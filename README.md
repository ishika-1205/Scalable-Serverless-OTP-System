# Serverless OTP system

This project focuses on making OTP System as a service. Client can send request to Routes and can verify his users using this project. It had the backend code running in AWS and Frontend is made with React and hosted on netlify.

## Hosted Url

Check the project from [here](https://otpsystem.netlify.app/)

## Main Features

* It takes email fom the frontend and sends email with an OTP to it.
* OTP is generate with crypto libraries so no security issues.
* OTP generated is of 6 digits to make user friendly as well as we wil have enough range of OTP`s
* OTP has an expiry time of 3 min to make the system more secure.
* User can have 3 chances to generate OTP and verify his email after that tries. user wont be able to verify him.
* Data is stored in Dynamo DB database for easy and fast access of data.

## DynamoDB Schema

  * email : Email of the user.it is used as a primary key.
  * otp : This is the recently generated OTP for corresponding User Email.
  * expireAt: It is the exipry time of Corresponding OTP.This is stored in [epoch time](https://en.wikipedia.org/wiki/Unix_time)
  * tries : This is the count of number of times the OTP is generated by deafault it is setted to 0.
  * verification_status : By default it is false and when user is verified with OTP it is setted to true.

## Tech stack

 ### Frontend
 
  * React
  * Material UI
  * Context Api
  * React-Router-Dom
 
 ### Backend 
 
  * Nodejs
  * Expressjs
  * Cryptojs
  * Sendgrid
  * AWS Sdk
  
 ### AWS Services
 
  * AWS Lambda 
  * API Gateway
  * Dynamo DB
  * SES

## Local Setup

 ### Frontend
 
 * Clone this repository to your computer
 * Open the main directory and install all the dependencies using 
```
yarn install
```
 * Start the application using 
```
yarn run
```
 ### Backend
 
 * Create your AWS account.
 * Go to AWS Lamba and create Two Lambda functions namely Generate OTP and verify OTP and paste the backend code in them respectively.
 * While creating the Lambda functions create a new role fo lambda function which allows them to access dynamo db.
 * Go to API Gateway and create two routes and attach the Generate OTP and Verify OTP lambda functions to them.
 * Now go to Dynamo DB and create the table with above schema.
 * Go and create a send grid account for sending emails.
 * Under the dashboard of Lamba functions you created make sure to add the the below envionmental variables.
    - TABLE_NAME : your dynamo db table name.
    - OTP_EXPIRY_MINS : Expiry in minutes for OTP
    - SENDGRID_API_KEY: Api key from Send grid account.
    - LIMIT: allowed number of maximum tries
 
 ## Contributers
 
 >[Ishika Chauhan (2020IMT041)](ranjithjupaka/winterproject)
 
 >[Ranjith Jupaka (2020IMT042)](https://github.com/ranjithjupaka)
 
  

